<div class="viewport-flex" [ngStyle]="viewportStyle" [style.opacity]="!loaded ? '0' : 'initial'">
    
    <div [ngStyle]="outerStyle" class="outer-container" [class.rainbow]="outerStyle.rainbow" [class.vaporwave]="outerStyle.vaporwave" [@innerOUT]="element.innerTransitionOUT" [@in]="element.innerTransitionIN">
        <video [ngStyle]="innerStyle" 
                *ngIf="element" 
                #videoPlayer 
                (loadeddata)="onLoadedData()" 
                (ended)="onPlaybackEnded()" 
                (error)="onError($event)">
            <source [src]="element.src" (error)="onError($event)">
        </video>  
    </div>
</div>